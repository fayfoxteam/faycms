!function(a){a.fn.scrollFix=function(b){return this.each(function(){function A(){B(),f=d.offset().top,g=d.offset().left,k=d.outerHeight(),k=parseFloat(k)+parseFloat(d.css("marginBottom").replace(/auto/,0)),l=d.outerWidth(),m=d.width();var q,r,b=a(document).height(),e=a(c.startTop),n=a(c.startBottom);/^body|html$/i.test(w[0].tagName)?(j=0,i=0):(i=w.offset().left,j=w.offset().top);var s=parseInt(jQuery("body").css("top"),10);if(isNaN(s)||(o+=s),q=isNaN(c.endPos)?parseFloat(b-a(c.endPos).offset().top):c.endPos,r=parseFloat(b-q-o),p=parseFloat(r-k),e[0]){var t=e.offset(),u=t.top;f=u}if(n[0]){var v=n.offset(),x=v.top,y=n.outerHeight();f=parseFloat(x+y)}h=f-o,h=h>0?h:0;var z=b-f-k;0!=q&&q>=z}function B(){u||(t=-1,n.css("display","none"),d.css({"z-index":s,width:"",position:q,left:"",top:r,"margin-left":""}),d.removeClass("scrollfixed"),u=!0)}function C(){t=1;var b=a(window).scrollTop();-1!=c.bottom&&(b=b+a(window).height()-k-c.bottom),b>h&&p>b?(y?d.addClass(c.baseClassName).css({"z-index":v,position:"absolute",top:-1==c.bottom?b+o-j:b-j,bottom:"auto",left:g-i,width:m}):d.addClass(c.baseClassName).css({"z-index":v,position:"fixed",top:-1==c.bottom?o:"",bottom:-1==c.bottom?"":c.bottom,left:g,width:m}),n.css({height:k,width:l,display:"block"}).insertBefore(d)):b>=p?(d.addClass(c.baseClassName).css({"z-index":v,position:"absolute",top:p-j+o,bottom:"",left:g-i,width:m}),n.css({height:k,width:l,display:"block"}).insertBefore(d)):(d.removeClass(c.baseClassName).css({"z-index":s,position:"static",top:"",bottom:"",left:""}),n.remove())}var k,l,q,r,s,c=a.extend({},a.fn.scrollFix.defaultOptions,b),d=a(this),f=0,g=0,h=0,i=0,j=0,m=0,n=jQuery("<div>"),o=c.distanceTop,p=0,t=-1,u=!0;if(!(d.length<=0)){-1==t&&(s=d.css("z-index"),position=d.css("position"),q=d.css("position"),r=d.css("top"));var v=d.css("zIndex");0!=c.zIndex&&(v=c.zIndex);for(var w=d.parent(),x=w.css("position");!/^relative|absolute$/i.test(x)&&(w=w.parent(),x=w.css("position"),!/^body|html$/i.test(w[0].tagName)););var y=!-[1]&&!window.XMLHttpRequest,D=0;A(),a(window).on("scroll",function(){D&&clearTimeout(D),D=setTimeout(C,0)}),a(window).on("resize",function(){D&&clearTimeout(D),D=setTimeout(function(){u=!1,A(),C()},0)})}})},a.fn.scrollFix.defaultOptions={startTop:null,startBottom:null,distanceTop:0,endPos:0,bottom:-1,zIndex:0,baseClassName:"scrollfixed"}}(jQuery);