var _fa={url:system.url("cms/api/analyst/visit"),params:{r:document.referrer,sw:window.screen.width,sh:window.screen.height,h:window.location.href},getRequest:function(){var b=location.search;var a={};if(b.indexOf("?")!=-1){var d=b.substr(1);strs=d.split("&");for(var c=0;c<strs.length;c++){a[strs[c].split("=")[0]]=unescape(strs[c].split("=")[1])}}return a},getOS:function(a){if(typeof(a)=="undefined"){a=navigator.userAgent.toLowerCase()}else{a=a.toLowerCase()}if(navigator.platform=="Win32"||navigator.platform=="Win64"||navigator.platform=="Windows"){if(a.indexOf("windows nt 5.0")>-1||a.indexOf("windows 2000")>-1){return"win2000"}if(a.indexOf("windows nt 5.1")>-1||a.indexOf("windows xp")>-1){return"xp"}if(a.indexOf("windows nt 5.2")>-1||a.indexOf("windows 2003")>-1){return"win2003"}if(a.indexOf("windows nt 6.0")>-1||a.indexOf("windows vista")>-1){return"vista"}if(a.indexOf("windows nt 6.1")>-1||a.indexOf("windows 7")>-1){return"win7"}if(a.indexOf("windows nt 6.2")>-1||a.indexOf("windows 8")>-1){return"win8"}if(a.indexOf("windows nt 6.3")>-1){return"win8.1"}if(a.indexOf("windows nt 6.4")>-1){return"win10"}if(a.indexOf("windows nt 10.0")>-1){return"win10"}if(a.match(/windows ce/i)=="windows ce"){return"wince"}if(a.match(/windows mobile/i)=="windows mobile"){return"winmobile"}if(a.match(/windows phone/i)=="windows phone"){return"windows phone"}return"win*"}if(navigator.platform.indexOf("Linux")>-1){if(a.match(/android/i)=="android"){return"android"}return"linux"}if(a.match(/ipad/i)=="ipad"){return"ipad"}if(a.match(/iphone os/i)=="iphone os"){return"iphone"}if(a.match(/windows ce/i)=="windows ce"){return"wince"}if(a.match(/windows mobile/i)=="windows mobile"){return"winmobile"}if(navigator.platform=="Mac68K"||navigator.platform=="MacPPC"||navigator.platform=="Macintosh"||navigator.platform=="MacIntel"){return"mac"}if(navigator.platform=="X11"){return"unix"}return"other"},getBrowser:function(c){if(typeof(c)=="undefined"){c=navigator.userAgent}var a,d;if(d=c.match(/MicroMessenger\/([\.\w]+)/i)){d=["MicroMessenger",d[1]]}else{if(d=c.match(/MQQBrowser\/([\d\.]+)/i)){d=["MQQBrowser",d[1]]}else{if(d=c.match(/QQBrowser\/([\d\.]+)/i)){d=["QQBrowser",d[1]]}else{if(d=c.match(/QQ\/([\d\.]+)/i)){d=["QQ",d[1]]}else{if(d=c.match(/Qzone\/([\w_\.]+)/i)){d=["Qzone",d[1]]}else{if(d=c.match(/TaoBrowser\/([\d\.]+)/i)){d=["Tao",d[1]]}else{if(d=c.match(/BIDUBrowser\/([\w\.]+)/i)){d=["BaiDu",d[1]]}else{if(d=c.match(/LBBROWSER/i)){d=["LBBROWSER",""]}else{if(d=c.match(/Maxthon[\/ ]([\d\.]+)/i)){d=["Maxthon",d[1]]}else{if(d=c.match(/UCBrowser\/([\d\.]+)/i)){d=["UCBrowser",d[1]]}else{if(d=c.match(/XiaoMi\/MiuiBrowser\/([\d\.]+)/i)){d=["XiaoMi/MiuiBrowser",d[1]]}else{if(d=c.match(/SE ([\w\.]+) MetaSr 1.0/i)){d=["Sougou",d[1]]}else{if(d=c.match(/SogouMobileBrowser\/([\d\.]+)/i)){d=["SogouMobileBrowser",d[1]]}else{if(d=c.match(/TheWorld ([\d\.]+)/i)){d=["TheWorld",d[1]]}else{if(d=c.match(/TheWorld/i)){d=["TheWorld",""]}else{if(d=c.match(/2345Explorer ([\d\.]+)/i)){d=["2345Explorer",d[1]]}else{if(d=c.match(/UBrowser\/([\d\.]+)/i)){d=["UBrowser",d[1]]}else{if(d=c.match(/360SE/i)){d=["360SE",""]}else{d=["",""]}}}}}}}}}}}}}}}}}}if(a=c.match(/rv:([\d\.]+)\) like gecko/i)){return["IE",a[1],d[0],d[1]]}if(a=c.match(/Edge\/([\d\.]+)/i)){return["Edge",a[1],d[0],d[1]]}if(a=c.match(/MSIE ([\d\.]+)/i)){return["IE",a[1],d[0],d[1]]}if(a=c.match(/Firefox\/([\d\.]+)/i)){return["Firefox",a[1],d[0],d[1]]}if(a=c.match(/Chrome\/([\d\.]+)/i)){return["Chrome",a[1],d[0],d[1]]}if(a=c.match(/Opera.([\d\.]+)/i)){return["Opera",a[1],d[0],d[1]]}if(a=c.match(/Safari\/([\d\.]+)/i)){return["Safari",a[1],d[0],d[1]]}return["other","",d[0],d[1]]},getCookie:function(b){var a,c=new RegExp("(^| )"+b+"=([^;]*)(;|$)");if(a=document.cookie.match(c)){return unescape(a[2])}else{return null}},init:function(c){_fa.params.t=_fa.getRequest()["trackid"]?_fa.getRequest()["trackid"]:"";_fa.params.os=_fa.getOS();_fa.params.si=c?c:1;var b=_fa.getBrowser();_fa.params.b=b[0];_fa.params.bv=b[1];_fa.params.s=b[2];_fa.params.sv=b[3];var a=document.createElement("img");var d=[];for(key in _fa.params){d.push(key+"="+encodeURIComponent(_fa.params[key]))}a.src=[_fa.url,"?",d.join("&")].join("");a.style.display="none";document.body.insertBefore(a,document.body.childNodes[0])}};